target C {
    single-threaded: true,
    platform: "FlexPRET",
    timeout: 100 ms
};

preamble {=
    #include <stdint.h>
    #include <flexpret/io.h>
    #include <printf/printf.h>
=}

main reactor {
    timer t(0, 1 ms);
    state count:{=uint32_t=}
    reaction(t) {=
        printf("Hello world from TestTimer.lf!\n");
        self->count += 1;
        printf("self->count: %i at time: %i\n", self->count, lf_time_logical());
        if (self->count >= 10) lf_request_stop();
    =}
}
